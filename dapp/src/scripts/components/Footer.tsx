import React from "react";

interface Props
    {
        ens: string|null;
        uns: string|null;
        userAddress: string|null;
        connect(): Promise<void>;
        disconnect(): void;
        generateContractUrl(): string;
        generateMarketplaceUrl(): string;
        isWalletConnected(): boolean;
    }

interface State
    {

    }

const defaultState: State =
    {

    }

export default class Footer extends React.Component<Props, State> {
    constructor( props: Props ) {
        super( props );

        this.state = defaultState;
    }

    private formatUserAddress(): string
        {
            let display = null;

            if( this.props.ens !== null ) {
                display = this.props.ens;
            } else if( this.props.uns !== null ) {
                display = this.props.uns;
            } else if( this.props.userAddress !== null && String( this.props.userAddress ) !== "null" ){
                display = `${String( this.props.userAddress).substr( 0, 4 )}...${String( this.props.userAddress ).substr( -4, 4 )}`;
            } else {
                display = "connected";
            }

            return String( display );
        }

    render() {
        return (
            <>
                <footer>
                    <nav>
                        <ul>
                            <li>
                                <a href={this.props.generateMarketplaceUrl()} target="_blank">
                                    <picture>
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                                            <path d="M56.1 36.1l-11.8 3.4c-.1 0-.1 0-.2.1-.8.9-1.7 1.8-2.6 2.6-.7.6-1.6 1-2.6 1h-4.3v-4.3H38c.1 0 .2 0 .2-.1l.5-.4c.2-.2.4-.4.7-.6l.5-.5.6-.6c.3-.3.5-.6.8-.9.2-.2.4-.4.5-.7.2-.2.4-.5.6-.7s.3-.4.4-.6.3-.4.4-.6a11.94 11.94 0 0 0 .8-1.6l.3-.8c.1-.2.1-.5.1-.7.1-.7.2-1.3.1-2 0-.2 0-.4-.1-.6h0c0-.1-.1-.3-.1-.4l-.6-1.9c-.1-.2-.2-.5-.3-.7-.2-.5-.5-1-.8-1.4l-.3-.5c-.2-.4-.5-.7-.8-1s-.4-.5-.6-.8l-.6-.7c-.7-.8-1.5-1.6-2.2-2.2l-.4-.4c-.5-.5-1-.9-1.4-1.2l-.5-.5-.5-.4h-.1l-.5-.1v-3.9c0-.6-.2-1.1-.6-1.6-.5-.6-1-.8-1.6-.8a2.22 2.22 0 0 0-2.2 2.2v2.5h-.2l-.6-.2-.6-.2h0l-4.4-1.2c-.1 0-.2 0-.3.2v.2l.7 1.3c.1.1.2.3.2.5s.2.5.3.7l.3.6c.2.5.5 1 .7 1.6.2.4.3.8.5 1.2l1.1 3.1.3 1v.2l.3 1.5c.1.3.1.7.2 1 .1.4.1.8.1 1.1v1c0 .9-.1 1.7-.3 2.5-.1.2-.1.5-.2.7s-.2.6-.3.9-.1.4-.2.5l-1.3 2.8c-.7 1.3-1.5 2.5-2 3.2l-.2.3c-.1.2-.1.4.1.5.1 0 .1.1.2.1h5.5v4.4h-5.6c-1.5 0-2.9-.9-3.5-2.2-.3-.7-.5-1.4-.4-2.2 0-.2-.1-.4-.3-.4H9.2c-.2 0-.3.1-.3.3v.3c0 7.2 5.8 13 12.9 13H42c4.8 0 7-5.6 9.8-9.6 1.3-1.4 2.8-2.5 4.6-3.2.1-.1.2-.2.2-.3v-2.5c0-.2-.1-.3-.3-.4-.1.1-.1.1-.2.1zM12 34h10.3c.1 0 .2-.1.3-.1l.4-.6c.8-1.3 1.5-2.8 2-4.3.7-2.9-.8-7.6-2.5-11.4-.1-.2-.3-.2-.5-.1-.1 0-.1.1-.1.1l-10 15.6-.2.3c-.1.2-.1.4.1.5h.2z" fill="#fff"/>
                                            <circle cx="32" cy="32" r="29" fill="none" stroke="#fff" strokeWidth="6" strokeLinejoin="round"/>
                                        </svg>
                                    </picture>
                                    <span>open-sea</span>
                                </a>
                            </li>
                            <li>
                                <a href="https://twitter.com/bagholderzNFT" target="_blank">
                                    <picture>
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                                            <path d="M54 18.3c-1.7.7-3.4 1.2-5.2 1.4 1.9-1.1 3.3-2.9 4-5-1.8 1.1-3.7 1.8-5.7 2.2-3.4-3.6-9.2-3.8-12.8-.4a9.18 9.18 0 0 0-2.6 8.6c-7.3-.4-14-3.8-18.6-9.4-2.4 4.1-1.2 9.4 2.8 12.1-1.4 0-2.8-.4-4.1-1.1-.1 4.4 3 8.1 7.3 9-1.3.4-2.7.4-4.1.1 1.2 3.7 4.6 6.2 8.5 6.3-3.8 3-8.6 4.3-13.4 3.7 4.1 2.7 8.9 4.1 13.9 4.1 16.8 0 26.3-14.2 25.7-26.9 1.6-1.3 3.1-2.9 4.3-4.7z" fill="#fff"/>
                                            <circle cx="32" cy="32" r="29" fill="none" stroke="#fff" strokeWidth="6" strokeLinejoin="round"/>
                                        </svg>
                                    </picture>
                                    <span>twitter</span>
                                </a>
                            </li>
                            <li>
                                <a href={this.props.generateContractUrl()} target="_blank">
                                    <picture>
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                                            <circle cx="32" cy="32" r="29" fill="none" stroke="#fff" strokeWidth="6" strokeLinejoin="round"/>
                                            <path d="M18.7 10.4h19.9c.3.2.5.4.7.7l8.4 8.4c.3.3.5.7.5 1.2v29.1c0 2.4-1.5 3.9-3.9 3.9H19.6c-2.4 0-3.9-1.5-3.9-3.9V31.9 14.2c0-1.8.9-3.1 2.6-3.6.2-.1.3-.1.4-.2zm9.6 35.2l.6 1.7c.5 1 1.2 1.2 2.2.6.1-.1.2-.1.3-.2 1.5-1 2.7-2.2 3.9-3.4.4-.3.3-.9 0-1.2-.3-.4-.8-.4-1.3-.1-.2.2-.4.3-.6.5l-3.1 2.7c0-.1-.1-.1-.1-.2l-.5-1.4c-.1-.5-.3-.9-.6-1.4-.4-.7-1.2-.7-1.8-.2l-.6.9c-.3.7-.7 1.3-1 2-.2.3-.4.4-.6.1-.1-.1-.2-.1-.3-.2-.2-.1-.2-.3 0-.5.4-.5.8-1.1 1-1.7.4-.8.7-1.7.5-2.7-.3-1.6-2.4-2.5-3.6-1.6-1.3.9-2 2.7-1.5 4.2.2.7.5 1.3.9 1.8.1.2.1.3 0 .4-.3.2-.5.4-.7.6-.5.5-.3 1.3.4 1.5.4.1.7-.1 1-.3.2-.2.5-.6.7-.6.3-.1.5.3.8.5 1.2.8 2.1.6 3-.5.4-.2.6-.7 1-1.3zm3.7-19h9.6.4c.5 0 .9-.4.9-.9s-.4-.8-.9-.9h-.4-19.1-.5c-.4 0-.7.4-.8.8s.2.8.6.9c.2.1.4.1.6.1H32zm0 5.4h9.7.4c.5-.1.8-.5.8-.9 0-.5-.4-.8-.8-.9h-.4-19.1-.4c-.5 0-.8.4-.8.9 0 .4.3.8.8.9h.4H32zm3.6 3.6h-1.8-4.6c-.5 0-.9.4-.9.9s.4.9.9.9h.2 12.2.3c.4-.1.7-.4.8-.8s-.2-.8-.6-.9c-.2-.1-.4-.1-.6-.1h-5.9zm-8.1-16.2h-3.2-2.2c-.5 0-.9.4-.9.9s.4.9.9.9h.4 9H33c.6 0 1-.5.9-1.1-.1-.4-.4-.7-1-.7h-5.4zm17.4 0l-5.7-5.7v3.8c0 1.1.7 1.9 1.8 1.9h3.9zm-21.3 25c-.8-1.2-.8-2.2-.1-3.1.2-.2.3-.4.6-.3a.9.9 0 0 1 .6.6c.1.3 0 .5 0 .8-.2.7-.6 1.3-1.1 2z" fill="#fff"/>
                                        </svg>
                                    </picture>
                                    <span>contract</span>
                                </a>
                            </li>
                        </ul>
                        {this.props.isWalletConnected() ?
                            <button className="connected" onClick={() => this.props.disconnect()}>
                                <span>{this.formatUserAddress()}</span>
                            </button>
                        :
                            <button onClick={() => this.props.connect()}>
                                <picture>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 59" height="59" width="65">
                                        <path d="M58.7 1.8c-.1-1 .6-1 1.6-1 1.3 3.9 3.4 7.7 3.4 12.1 0 2-1.5 3.5-1.1 5.5.3 1.9.3 4 0 5.9-.3 2.1-1.8 3.9-1.9 6.1-3.8-1.6-7.6-3-11.8-3-1.5-.8-2.9-1.8-4.3-2.6-2.5-1.5-4.1-3.9-6.6-5.3v-2c.9-.5 2-.8 2.8-1.4L56.7 3.7c1.1-.1 1.7-.8 2-1.9zM4.4 29.4c-.1-1.3-1.5-1.5-1.7-1.9.3-2.5-.4-4.2-1.3-5.8.3-1.3 1.5-2.2.8-3.9C0 12.2 2 6.9 4 1.7c.2-.4.7-.6 1-.9.8 0 1.4 0 1.3 1 0 .7.3 1 1 1C7.5 4 8.6 4.7 9.4 5.3c5.5 3.7 10.8 7.7 15.8 12 .6.5 1.2.2 1.8.3-.3.7-.7 1.3-1 2-3.5 2.4-6 6-9.9 7.9-2.6-.8-5.1.4-7.3 1.2-1.5.5-2.9.5-4.4.7z" fill="#f5af6a"/>
                                        <path d="M4.4 29.4c1.5-.2 3-.2 4.5-.8 2.2-.8 4.7-2 7.3-1.2v3.9c-.5-.1-.8.1-.9.6.3.5 1 .7.9 1.4.2 1 0 2 .5 3.1.8 1.9 2.6 3.4 2.4 5.7-2 .1-4.1-.5-5.9 1-2.1 0-4.3.3-6.4-.1-2.4-.4-4.2 1.6-6.5 1.1-.1-2.7.7-5 1.9-7.4 1.1-2.2 2.4-4.6 2.2-7.3z" fill="#fdf8f5"/>
                                        <path d="M48.8 27.4c4.2 0 8 1.4 11.8 3 .2 1 0 2 .6 3.2 1.4 2.8 2.3 5.8 3.4 8.7.2.6 0 1.3 0 1.9-1.7.5-2.9-1-4.5-1h-5.4-2c.1-.9-.5-1-1.2-1h-6.7l3.9-7.9c0-.7-.1-1.4.5-2.1.7-.8.8-1.6-.5-1.9.1-.9.1-1.9.1-2.9z" fill="#fdf8f4"/>
                                        <path d="M52.7 43.2h2 5.4c1.6 0 2.8 1.5 4.5 1-.4 3.8-1.4 7.4-2.7 11-.3.8 0 1.6-.4 2.6-2.9.9-5.5-.9-8.1-1.8-2.6-.8-5-1.9-7.5-2.9v-1c2.6-1.5 3.4-4.3 4.8-6.6.6-1 .9-1.9 2-2.3z" fill="#fbdec3"/>
                                        <path d="M.4 44.2c2.3.5 4.1-1.4 6.5-1.1 2.1.3 4.2.1 6.4.1 0 .5-.2 1.2 0 1.4 2.3 2 2.9 5 4.4 7.4h1.5v2c-3.8-.1-7.1 1.5-10.5 2.9-1.5.6-3.1 1.5-5.2.8C2.4 53.4.4 49 .4 44.2z" fill="#fbdec4"/>
                                        <path d="M26.1 19.6c.3-.7.7-1.3 1-2-.1-.6 0-1.2-.3-1.8-.9-1.9-1.9-3.8-1.7-6.1H32v34.5h-3c.5-1.3-.8-1.9-1-3h.5c.8-3.3.8-6.6 0-9.8H28v-7.7c.1-1.7-.4-3.2-1.9-4.1zm11.8-2v2c-.9-.1-1 .6-1 1.2v9.6c-.1 1-1.2 1.7-1.1 2.9.1 1.9.3 3.9-.8 5.9-.4.9-1.3 3.1.8 4v1h-3V9.7h6.9c-.1.6 0 1.2-.3 1.8-.7 1.9-1.7 3.9-1.5 6.1z" fill="#fbe2cc"/>
                                        <path d="M25.1 9.7c-.2 2.2.8 4.2 1.7 6.1.3.7.1 1.2.3 1.8-.6-.1-1.2.2-1.8-.3-5.1-4.3-10.4-8.2-15.9-12-.8-.6-1.9-1.3-2.1-2.5 2-.5 3.5 1.3 5.5 1 3.8 2.7 8.3 3.8 12.3 5.9z" fill="#fdf6f1"/>
                                        <path d="M37.9 17.6c-.2-2.2.8-4.2 1.7-6.1.3-.7.1-1.2.3-1.8 4.6-2.6 9.9-3.9 14.4-6.8.6-.4 1.6-.1 2.4-.1v1L40.8 16.2c-.9.6-1.9.9-2.9 1.4z" fill="#fdf7f2"/>
                                        <path d="M40.9 55c-.1.3-.2.8-.3.8-2.6.5-5.3-.2-7.8 1.1-1.3.7-2.7-1.3-4.4-1-1.3.2-2.9.5-4.1-.4-.1-.1 0-.3 0-.5.2-2.1 2.4-.1 3-1.5v-3.4h9.9c.2 3.2.2 3.2 3.2 3.9.2.2.6.4.5 1z" fill="#fceadb"/>
                                        <path d="M40.9 55c.1-.6-.3-.9-.8-1-3-.8-3-.8-3.2-3.9v-4.9h1c1.8 3.2 5 4.9 7.9 6.9v1 .4c-1.7.3-3.1 1.7-4.9 1.5z" fill="#fbe1c8"/>
                                        <path d="M27.1 50.1v3.4c-.5 1.4-2.8-.5-3 1.5-1.7.2-3.1-1.5-4.9-1v-2c2.7-1.9 4.9-4.4 7.9-5.9v4z" fill="#fbe4ce"/>
                                        <ellipse cx="32.5" cy="27" rx=".7" ry="24.4" fill="#f8c798"/>
                                        <path d="M56.7 3.8v-1c.1-1.5 1.2-.8 2-1-.3 1.1-.9 1.8-2 2z" fill="#fceadb"/>
                                        <path d="M7.3 2.8c-.7 0-1-.3-1-1 .7 0 1.1.3 1 1z" fill="#fdf6f1"/>
                                        <path d="M36.9 30.4v-9.6c0-.7.1-1.3 1-1.2 2.5 1.4 4.1 3.8 6.6 5.3 1.4.8 2.8 1.9 4.3 2.6v3c-1.1.2-1.7 1.2-3 1-1.8-.2-3.6-.2-5.3 0-1.4 0-2.2-1.6-3.6-1.1z" fill="#fcecde"/>
                                        <path d="M26.1 19.6c1.6 1 2 2.4 2 4.2v7.7H16.3v-3.9c3.8-2 6.3-5.6 9.8-8z" fill="#fcecdd"/>
                                        <path d="M28.1 41.2c.1 1 1.5 1.7 1 3-.1 1.5-1.2.8-2 1-2.5-1-5-2.3-7.9-2v-1c.2-2.3-1.6-3.8-2.4-5.7-.5-1.1-.4-2.1-.5-3.1 1.2.2 1.8 1.3 2.5 2 .7.8 1.5 1.1 2.5.9 1.7-.2 3.1 1.5 4.9 1 1.2 1 1.9 2.3 1.9 3.9z" fill="#fce5d1"/>
                                        <path d="M21.2 36.3c-1 .1-1.8-.1-2.5-.9s-1.2-1.8-2.5-2c.1-.7-.6-.9-.9-1.4.1-.4.4-.6.9-.6H28h.5c.8 3.3.8 6.6 0 9.8H28c.1-1.7-.7-2.9-2-3.9.3-1.5-.5-2.3-1.8-3-.8.8-2.5.4-3 2z" fill="#f9caa0"/>
                                        <path d="M19.2 42.2v1 8.9h-1.5c-1.5-2.5-2.1-5.4-4.4-7.4-.2-.2 0-.9 0-1.4 1.7-1.5 3.9-1 5.9-1.1z" fill="#f9cba1"/>
                                        <path d="M37.9 45.2h-1c-.7 0-1-.3-1-1v-1c-.5-2.3 1.3-4 2-5.9h4.5c.4-.8 1.4-1 1.4-2 1.7.2 3.1-1.5 4.9-1l-3.9 7.9v1c-2.5-.2-4.6 1.1-6.9 2z" fill="#fce4cf"/>
                                        <path d="M37.9 37.3c-.7 2-2.4 3.6-2 5.9-2.1-.9-1.3-3.1-.8-4 1-2 .9-3.9.8-5.9-.1-1.3.9-1.9 1.1-2.9 1.4-.5 2.1 1.1 3.5 1 1.8-.1 3.6-.2 5.3 0 1.3.2 2-.9 3-1 1.4.3 1.3 1.1.5 1.9-.7.7-.5 1.4-.5 2.1-1.8-.5-3.2 1.1-4.9 1-1.7.5-2.9-2-4.6-.8l-1.4 2.7z" fill="#f9cca2"/>
                                        <path d="M44.8 43.2v-1h6.7c.7 0 1.3.1 1.2 1-1.2.4-1.5 1.3-2.1 2.3-1.4 2.3-2.3 5.1-4.8 6.6.8-3.1-1.4-5.8-1-8.9z" fill="#f9cca3"/>
                                        <path d="M36 44.2c0 .7.3 1 1 1v4.9h-9.9v-3.9-1c.7-.1 1.9.5 2-1h3 1H36z" fill="#f58821"/>
                                        <path d="M44.8 43.2c-.5 3 1.7 5.8 1 8.9-2.9-2-6.1-3.7-7.9-6.9 2.3-.9 4.4-2.2 6.9-2z" fill="#fdf4ec"/>
                                        <path d="M27.1 45.2v1c-3 1.5-5.2 4-7.9 5.9v-8.9c2.9-.3 5.3 1 7.9 2z" fill="#fdf5ed"/>
                                        <path d="M21.2 36.3c.5-1.6 2.2-1.2 3.1-2 1.3.7 2.1 1.5 1.8 3-1.8.5-3.2-1.1-4.9-1z" fill="#f58f2f"/>
                                        <path d="M37.9 37.3l1.3-2.8c1.8-1.2 2.9 1.3 4.6.8.1 1-.9 1.2-1.4 2h-4.5z" fill="#f5953a"/>
                                    </svg>
                                </picture>
                                <span>connect</span>
                            </button>
                        }
                    </nav>
                </footer>
            </>
        )
    }
}